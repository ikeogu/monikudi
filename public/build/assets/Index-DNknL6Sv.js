import{p as _,g as n,o as i,b as t,a as c,t as a,w as u,f as p,d as x,l as m,k as v,m as k,e as N,F as j,q as B,s as h}from"./app-Bo8_8LVI.js";/* empty css            */const C={class:"p-4 sm:p-6"},D={class:"p-6"},T={class:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4"},A={class:"text-xl sm:text-2xl font-bold text-gray-800 text-center lg:text-left"},S={class:"text-lg sm:text-xl lg:text-2xl text-green-700 text-center lg:text-right"},F={key:0,class:"overflow-x-auto"},V={class:"min-w-full divide-y divide-gray-200 border rounded-lg text-sm sm:text-base"},G={class:"divide-y divide-gray-100"},O={class:"px-4 py-2"},E={class:"text-sm whitespace-nowrap px-2 py-2"},I={class:"px-4 py-2 capitalize"},M={class:"px-4 py-2"},$={class:"px-4 py-2"},q={class:"px-4 py-2"},z={class:"flex flex-col sm:flex-row gap-2"},L=["onClick"],P={key:1,class:"text-gray-500"},K={__name:"Index",props:{customer:Object,transactions:Object,filters:Object},setup(r){const l=r,d=_(l.filters.search||"");function y(){h.get(route("customers.transactions.index",l.customer.id),{search:d.value},{preserveState:!0,replace:!0})}function f(o){confirm("Are you sure?")&&h.delete(route("transactions.destroy",[l.customer.id,o]))}const g=o=>new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN",minimumFractionDigits:0}).format(o);function b(){window.history.back()}return(o,e)=>(i(),n("div",C,[t("button",{onClick:e[0]||(e[0]=s=>b()),class:"text-sm bg-gray-200 hover:bg-gray-300 px-4 py-2 rounded"}," ← Back "),t("div",D,[t("div",T,[t("h2",A," ➕ Add Transaction for "+a(r.customer.full_name),1),t("strong",S," Current Bal. NGN "+a(r.customer.wallet_balance_in_naira),1)])]),c(x(m),{href:o.route("customers.transactions.create",r.customer.id),class:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition block sm:inline-block mb-4"},{default:u(()=>e[2]||(e[2]=[p(" ➕ Add Transaction ",-1)])),_:1,__:[2]},8,["href"]),t("form",{onSubmit:N(y,["prevent"]),class:"mb-4"},[v(t("input",{"onUpdate:modelValue":e[1]||(e[1]=s=>d.value=s),type:"text",placeholder:"Search...",class:"w-full sm:w-64 px-3 py-2 border rounded"},null,512),[[k,d.value]])],32),r.transactions&&r.transactions.data.length?(i(),n("div",F,[t("table",V,[e[5]||(e[5]=t("thead",{class:"bg-gray-100 text-gray-700"},[t("tr",null,[t("th",{class:"px-4 py-2 whitespace-nowrap"},"S/No"),t("th",{class:"px-4 py-2 whitespace-nowrap"},"Date"),t("th",{class:"px-4 py-2 whitespace-nowrap"},"Type"),t("th",{class:"px-4 py-2 whitespace-nowrap"},"Amount"),t("th",{class:"px-4 py-2 whitespace-nowrap"},"Description"),t("th",{class:"px-4 py-2 whitespace-nowrap"},"Actions")])],-1)),t("tbody",G,[(i(!0),n(j,null,B(r.transactions?.data||[],(s,w)=>(i(),n("tr",{key:s.id,class:"bg-white"},[t("td",O,a(w+1),1),t("td",E,a(s.date),1),t("td",I,a(s.type),1),t("td",M,a(g(s.amount)),1),t("td",$,a(s.description),1),t("td",q,[t("div",z,[c(x(m),{href:o.route("customers.transactions.edit",[r.customer.id,s.id]),class:"inline-flex justify-center items-center bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition duration-150 ease-in-out"},{default:u(()=>e[3]||(e[3]=[p(" Edit ",-1)])),_:2,__:[3]},1032,["href"]),c(x(m),{href:o.route("transactions.print",[s.customer_id,s.id]),target:"_blank",class:"bg-gray-600 text-white px-4 py-2 rounded-md hover:bg-gray-700 transition duration-150 ease-in-out"},{default:u(()=>e[4]||(e[4]=[p(" Print ",-1)])),_:2,__:[4]},1032,["href"]),t("button",{onClick:U=>f(s.id),class:"inline-flex justify-center items-center bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700 transition duration-150 ease-in-out"}," Delete ",8,L)])])]))),128))])])])):(i(),n("p",P,"No transactions found."))]))}};export{K as default};
