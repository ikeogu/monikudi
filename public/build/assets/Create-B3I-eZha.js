import{u as f,g as o,o as n,i as a,b as t,t as d,k as u,G as y,d as r,m,e as v}from"./app-DxnUqd1D.js";const k={class:"p-4 sm:p-6 max-w-xl mx-auto"},w={key:0,class:"bg-green-100 text-green-800 px-4 py-2 rounded mb-4 text-center"},_={key:1,class:"bg-red-100 text-red-800 px-4 py-2 rounded mb-4 text-center"},h={class:"p-6"},S={class:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4"},q={class:"text-xl sm:text-2xl font-bold text-gray-800 text-center lg:text-left"},B={class:"text-lg sm:text-xl lg:text-2xl text-green-700 text-center lg:text-right"},D={key:0,class:"text-red-500 text-sm mt-1"},V={key:0,class:"text-red-500 text-sm mt-1"},C={key:0,class:"text-red-500 text-sm mt-1"},T={key:0,class:"text-red-500 text-sm mt-1"},$={class:"pt-2"},N=["disabled"],U={key:0},F={key:1},j={__name:"Create",props:{customer:{type:Object,required:!0}},setup(p){const b=p,c=new Date().toISOString().split("T")[0],e=f({type:"credit",amount:"",description:"",date:c});function g(){if(!e.amount||!e.description||!e.date){alert("Please fill in all required fields");return}e.amount=parseFloat(e.amount),e.post(route("customers.transactions.store",b.customer.id),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{e.reset(),e.date=c},onError:i=>{console.error("Form submission errors:",i)}})}function x(){window.history.back()}return(i,s)=>(n(),o("div",k,[i.$page.props.flash?.success?(n(),o("div",w,d(i.$page.props.flash.success),1)):a("",!0),i.$page.props.flash?.error?(n(),o("div",_,d(i.$page.props.flash.error),1)):a("",!0),t("div",h,[t("div",S,[t("button",{onClick:s[0]||(s[0]=l=>x()),class:"text-sm bg-gray-200 hover:bg-gray-300 px-4 py-2 rounded"}," ← Back "),t("h2",q," ➕ Add Transaction for "+d(p.customer.full_name),1),t("strong",B," Current Bal. NGN "+d(p.customer.wallet_balance_in_naira),1)])]),t("form",{onSubmit:v(g,["prevent"]),class:"space-y-4 bg-white shadow-md rounded-lg p-4 sm:p-6"},[t("div",null,[s[6]||(s[6]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Type",-1)),u(t("select",{"onUpdate:modelValue":s[1]||(s[1]=l=>r(e).type=l),class:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:""},s[5]||(s[5]=[t("option",{value:"credit"},"Credit",-1),t("option",{value:"debit"},"Debit",-1)]),512),[[y,r(e).type]]),r(e).errors.type?(n(),o("div",D,d(r(e).errors.type),1)):a("",!0)]),t("div",null,[s[7]||(s[7]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Amount",-1)),u(t("input",{type:"number","onUpdate:modelValue":s[2]||(s[2]=l=>r(e).amount=l),class:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",step:"0.01",min:"0",required:""},null,512),[[m,r(e).amount]]),r(e).errors.amount?(n(),o("div",V,d(r(e).errors.amount),1)):a("",!0)]),t("div",null,[s[8]||(s[8]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Description",-1)),u(t("input",{type:"text","onUpdate:modelValue":s[3]||(s[3]=l=>r(e).description=l),class:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:""},null,512),[[m,r(e).description]]),r(e).errors.description?(n(),o("div",C,d(r(e).errors.description),1)):a("",!0)]),t("div",null,[s[9]||(s[9]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Date",-1)),u(t("input",{type:"date","onUpdate:modelValue":s[4]||(s[4]=l=>r(e).date=l),class:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:""},null,512),[[m,r(e).date]]),r(e).errors.date?(n(),o("div",T,d(r(e).errors.date),1)):a("",!0)]),t("div",$,[t("button",{type:"submit",disabled:r(e).processing,class:"w-full bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700 transition duration-300 disabled:bg-gray-400 disabled:cursor-not-allowed"},[r(e).processing?(n(),o("span",U,"Submitting...")):(n(),o("span",F,"Submit Transaction"))],8,N)])],32)]))}};export{j as default};
