import{p as N,g as o,o as r,b as t,a as x,t as n,w as l,f as h,d as c,l as d,k as C,m as B,e as j,i as m,F as y,q as f,c as D,n as T,s as g}from"./app-DGWHvIFB.js";/* empty css            */const A={class:"p-4 sm:p-6"},S={class:"p-6"},V={class:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4"},F={class:"text-xl sm:text-2xl font-bold text-gray-800 text-center lg:text-left"},G={class:"text-lg sm:text-xl lg:text-2xl text-green-700 text-center lg:text-right"},O={key:0,class:"overflow-x-auto"},z={class:"min-w-full divide-y divide-gray-200 border rounded-lg text-sm sm:text-base"},E={class:"divide-y divide-gray-100"},I={class:"px-4 py-2"},M={class:"text-sm whitespace-nowrap px-2 py-2"},$={class:"px-4 py-2 capitalize"},q={class:"px-4 py-2"},L={class:"px-4 py-2"},P={class:"px-4 py-2"},U={class:"flex flex-col sm:flex-row gap-2"},H=["onClick"],J={key:0,class:"mt-4"},K={class:"flex flex-wrap gap-2"},Q=["textContent"],R={key:1,class:"text-gray-500"},Z={__name:"Index",props:{customer:Object,transactions:Object,filters:Object},setup(a){const u=a,p=N(u.filters.search||"");function b(){g.get(route("customers.transactions.index",u.customer.id),{search:p.value},{preserveState:!0,replace:!0})}function w(i){confirm("Are you sure?")&&g.delete(route("transactions.destroy",[u.customer.id,i]))}const _=i=>new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN",minimumFractionDigits:0}).format(i);function v(){window.history.back()}return(i,s)=>(r(),o("div",A,[t("button",{onClick:s[0]||(s[0]=e=>v()),class:"text-sm bg-gray-200 hover:bg-gray-300 px-4 py-2 rounded"}," ← Back "),t("div",S,[t("div",V,[t("h2",F," ➕ Add Transaction for "+n(a.customer.full_name),1),t("strong",G," Current Bal. NGN "+n(a.customer.wallet_balance_in_naira),1)])]),x(c(d),{href:i.route("customers.transactions.create",a.customer.id),class:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition block sm:inline-block mb-4"},{default:l(()=>s[2]||(s[2]=[h(" ➕ Add Transaction ",-1)])),_:1,__:[2]},8,["href"]),t("form",{onSubmit:j(b,["prevent"]),class:"mb-4"},[C(t("input",{"onUpdate:modelValue":s[1]||(s[1]=e=>p.value=e),type:"text",placeholder:"Search...",class:"w-full sm:w-64 px-3 py-2 border rounded"},null,512),[[B,p.value]])],32),a.transactions&&a.transactions.data.length?(r(),o("div",O,[t("table",z,[s[5]||(s[5]=t("thead",{class:"bg-gray-100 text-gray-700"},[t("tr",null,[t("th",{class:"px-4 py-2 whitespace-nowrap"},"S/No"),t("th",{class:"px-4 py-2 whitespace-nowrap"},"Date"),t("th",{class:"px-4 py-2 whitespace-nowrap"},"Type"),t("th",{class:"px-4 py-2 whitespace-nowrap"},"Amount"),t("th",{class:"px-4 py-2 whitespace-nowrap"},"Description"),t("th",{class:"px-4 py-2 whitespace-nowrap"},"Actions")])],-1)),t("tbody",E,[(r(!0),o(y,null,f(a.transactions?.data||[],(e,k)=>(r(),o("tr",{key:e.id,class:"bg-white"},[t("td",I,n(k+1),1),t("td",M,n(e.date),1),t("td",$,n(e.type),1),t("td",q,n(_(e.amount)),1),t("td",L,n(e.description),1),t("td",P,[t("div",U,[x(c(d),{href:i.route("customers.transactions.edit",[a.customer.id,e.id]),class:"inline-flex justify-center items-center bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition duration-150 ease-in-out"},{default:l(()=>s[3]||(s[3]=[h(" Edit ",-1)])),_:2,__:[3]},1032,["href"]),x(c(d),{href:i.route("transactions.print",[e.customer_id,e.id]),target:"_blank",class:"bg-gray-600 text-white px-4 py-2 rounded-md hover:bg-gray-700 transition duration-150 ease-in-out"},{default:l(()=>s[4]||(s[4]=[h(" Print ",-1)])),_:2,__:[4]},1032,["href"]),t("button",{onClick:W=>w(e.id),class:"inline-flex justify-center items-center bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700 transition duration-150 ease-in-out"}," Delete ",8,H)])])]))),128))])]),a.transactions.links.length>3?(r(),o("div",J,[t("nav",K,[(r(!0),o(y,null,f(a.transactions.links,e=>(r(),D(c(d),{key:e.label,href:e.url,class:T(["px-3 py-1 border rounded",{"bg-blue-500 text-white":e.active,"text-gray-500":!e.url}])},{default:l(()=>[e.label?(r(),o("span",{key:0,textContent:n(e.label)},null,8,Q)):m("",!0)]),_:2},1032,["href","class"]))),128))])])):m("",!0)])):(r(),o("p",R,"No transactions found."))]))}};export{Z as default};
